import{K as ge,r as t,j as e,L as Fe,a as g}from"./app-CssLvUIy.js";import{D as Ee}from"./app-datatable-BeJRJFo1.js";import{B as d}from"./button-C4WyL6s5.js";import{D as f,a as b,b as v,c as y,d as N,e as _,f as c}from"./dialog-B3IU8IIQ.js";import{L as u,I as i}from"./label-BtSorOQx.js";import{S as U,a as V,b as T,c as z,d as m}from"./select-BaSQ6YBR.js";import{T as L}from"./textarea-5FjPn5Vr.js";import{A as Ue}from"./app-layout-Bo3Mcdu3.js";import{d as w}from"./index-Co1wP1WO.js";import"./plus-DvW-7UEB.js";import"./createLucideIcon-B__Mbpjy.js";import"./index-DYw4DpLt.js";import"./index-CJpG0XJO.js";import"./index-CRHGE8uX.js";function Ve(a){const[R,D]=a.replace(/,/g,"").split("."),h=Number(R||"0").toLocaleString("en-US");return D!==void 0?`${h}.${D}`:h}const Te=[{title:"Purchase Requisition",href:"/prpo/purchase-request"}];function ls(){var Q,Z,ee,se,ae,re,te,le,de,ie,ne,ce,oe,ue,me,pe,xe,he,je;const{prDetails:a,classification:R}=ge().props,h=window.location.pathname.split("/"),j=h[h.length-1],fe=ge(),{auth:l}=fe.props,H=new Date().toISOString().split("T")[0],[I,be]=t.useState("PHP"),[p,X]=t.useState(void 0),[$,J]=t.useState(void 0),[S,O]=t.useState(""),[C,B]=t.useState(""),[F,ve]=t.useState(""),[k,ye]=t.useState(""),[ze,Le]=t.useState(null),[x,E]=t.useState({pr_no:!1,date_needed:!1,prod_end_user:!1,classification_id:!1}),[A,Y]=t.useState(""),[Ne,_e]=t.useState(H),[P,G]=t.useState(""),[q,K]=t.useState(""),[we,Se]=t.useState(""),[Ce,W]=t.useState(""),[He,ke]=t.useState(""),[Ie,Ae]=t.useState(0),[Pe,M]=t.useState([]),qe=R.map(s=>({value:s.id,label:s.name,it_related:s.it_related})),Re=async s=>{try{await g.post("/prpo/purchase-request/approve/"+j,{approver_level:s}),w.Inertia.visit("/prpo/pending_approval")}catch{}},De=async()=>{try{await g.post("/prpo/purchase-request/approve-unbudget/"+j),w.Inertia.visit("/prpo/pending_approval")}catch{}},$e=async()=>{try{await g.post("/prpo/purchase-request/approve-overbudget/"+j),w.Inertia.visit("/prpo/pending_approval")}catch{}},Oe=async()=>{try{await g.post("/prpo/purchase-request/verify-finance/"+j,{budgeted:p,currency:I,budget_amount:C,isCapexOpex:$,remarks:S,bu_head:a.bu.bu_head.id}),w.Inertia.visit("/prpo/pending_approval")}catch{}},Be=async()=>{try{await g.post("/prpo/purchase-request/verify-procurement/"+j,{suppplier_name:F,actual_amount:k,procurement_remarks:S,bu_head:a.bu.bu_head.id}),w.Inertia.visit("/prpo/pending_approval")}catch{}};return t.useEffect(()=>{var s;a&&(Y(a.pr_no||""),_e(a.date_issue||H),G(a.date_needed||""),K(a.prod_end_user||""),Se(a.classification.name),W(a.remarks||""),ke(a.status||""),M(a.purchase_requisition_items),Ae(a.classification_id?((s=qe.find(r=>r.value===Number(a.classification_id)))==null?void 0:s.it_related)??0:0),B(a.budget_amount||"0"),X(a.budgeted?String(a.budgeted):void 0),J(a.isCapexOpex),O(a.finance_remarks||""),console.log("PR Details:",a))},[a]),e.jsx("div",{className:"flex h-screen flex-col",children:e.jsxs(Ue,{breadcrumbs:Te,children:[e.jsx(Fe,{title:"Purchase Request"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 px-4",children:[e.jsxs("div",{className:"mt-2 flex w-full justify-end gap-4 rounded border bg-white px-6 py-4 shadow",children:[e.jsx("div",{className:"flex-1 justify-start",children:e.jsx("img",{src:l.user.bu_id==1?`${window.location.origin}/storage/suhay_logo.png`:l.user.bu_id==2?`${window.location.origin}/storage/alibata_logo.png`:"",alt:"",style:{width:"150px",objectFit:"contain"}})}),e.jsxs("div",{className:"max-w-sm flex-1",children:[e.jsx(u,{htmlFor:"pr_no",className:`mb-1 block font-bold text-gray-500 ${x.pr_no?"text-red-500":""}`,children:"PR No."}),e.jsx(i,{id:"pr_no",type:"text",name:"pr_no",className:"w-full rounded-sm shadow-none",value:A,placeholder:"--Auto Generated--",onChange:s=>{Y(s.target.value),E(r=>({...r,pr_no:!1}))},readOnly:!0})]})]}),e.jsxs("div",{className:"rounded border bg-white p-4 shadow",children:[e.jsxs("div",{className:"flex w-full gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(u,{htmlFor:"requestor_id",className:"mb-1 block font-bold text-gray-500",children:"Name of Requestor"}),e.jsx(i,{id:"requestor_id",type:"text",name:"requestor_id",className:"w-full rounded-sm shadow-none",value:`${a.requestor.fname} ${a.requestor.mname} ${a.requestor.lname}`,placeholder:"Name of Requestor",readOnly:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(u,{htmlFor:"date_issue",className:"mb-1 block font-bold text-gray-500",children:"Date Issue"}),e.jsx(i,{id:"date_issue",type:"date",name:"date_issue",className:"w-full rounded-sm shadow-none",value:Ne,readOnly:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(u,{htmlFor:"date_needed",className:"mb-1 block font-bold text-gray-500",children:"Date Needed"}),e.jsx(i,{id:"date_needed",type:"date",name:"date_needed",className:"w-full rounded-sm shadow-none",value:P,onChange:s=>{G(s.target.value),E({...x,date_needed:!1})},readOnly:!0})]})]}),e.jsxs("div",{className:"mt-4 flex w-full gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(u,{htmlFor:"bu_id",className:"mb-1 block font-bold text-gray-500",children:"Business Unit"}),e.jsx(i,{id:"bu_id",type:"text",name:"bu_id",className:"w-full rounded-sm shadow-none",value:a.bu.name,readOnly:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(u,{htmlFor:"department_id",className:"mb-1 block font-bold text-gray-500",children:"Department"}),e.jsx(i,{id:"department_id",type:"text",name:"department_id",className:"w-full rounded-sm shadow-none",value:a.department.name,readOnly:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(u,{htmlFor:"prod_end_user",className:`mb-1 block font-bold text-gray-500 ${x.prod_end_user?"text-red-500":""}`,children:"Product End User"}),e.jsx(i,{id:"prod_end_user",type:"text",name:"prod_end_user",className:`w-full rounded-sm shadow-none ${x.prod_end_user?"border-red-500":""}`,value:q??"",placeholder:"Product End User",onChange:s=>{K(s.target.value),E({...x,prod_end_user:!1})},readOnly:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(u,{htmlFor:"classification_id",className:`mb-1 block font-bold text-gray-500 ${x.classification_id?"text-red-500":""}`,children:"Classification"}),e.jsx(i,{id:"prod_end_user",type:"text",name:"prod_end_user",className:"w-full rounded-sm shadow-none",value:we??"",placeholder:"Product End User",readOnly:!0})]})]})]}),e.jsx("div",{className:"w-full rounded bg-white shadow",children:e.jsx(Ee,{items:Pe,setItems:M,showAddRow:!1})}),e.jsx("div",{className:"flex w-full gap-4 rounded bg-white p-4 shadow",children:e.jsxs("div",{className:"flex-1",children:[e.jsx(u,{htmlFor:"remarks",className:"mb-1 block font-bold text-gray-500",children:"Remarks"}),e.jsx(L,{id:"remarks",name:"remarks",className:"rounded-sm shadow-none",value:Ce,placeholder:"Remarks",onChange:s=>{W(s.target.value)},readOnly:!0})]})}),e.jsx("div",{className:"flex w-full gap-4 rounded bg-white shadow",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded shadow",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[((Q=a.approvers_list)==null?void 0:Q.some(s=>Number(s.approver_level)==1))&&e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold tracking-wider text-gray-700 uppercase",children:"For IT Related Request"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold tracking-wider text-gray-700 uppercase",children:"Requestor Immediate Head"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.jsx("tr",{className:"hover:bg-gray-50",children:(Z=a.approvers_list)==null?void 0:Z.filter(s=>Number(s.approver_level)===1||Number(s.approver_level)===2).map(s=>e.jsxs("td",{className:"px-4 py-2 align-top",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Name:"}),e.jsx("span",{children:s.approver&&`${s.approver.nname||""} ${s.approver.fname||""} ${s.approver.lname||""}`.trim()||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),e.jsx("span",{className:"text-sm font-bold",children:s.is_approve==1?`Approved ${s.approval_date}`:"Pending"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Remarks:"}),e.jsx("span",{children:s.remarks||""})]})]}),s.approver_id==l.user.id&&s.is_approve==0&&e.jsx("div",{className:"flex flex-col gap-2 md:flex-row md:items-center",children:e.jsxs(f,{children:[e.jsx(b,{asChild:!0,children:e.jsx(d,{type:"submit",disabled:!A||!P||!q,children:"Approve"})}),e.jsxs(v,{className:"z-99999",children:[e.jsx(y,{children:"Purchase Request"}),e.jsx(N,{children:"Are you sure you want to approve this purchase request ?"}),e.jsxs(_,{className:"gap-2",children:[e.jsx(c,{asChild:!0,children:e.jsx(d,{variant:"secondary",children:"Cancel"})}),e.jsx(c,{asChild:!0,children:e.jsx(d,{asChild:!0,children:e.jsx("button",{type:"submit",onClick:()=>Re(s.approver_level),children:"Confirm"})})})]})]})]})})]},s.id))})})]})}),a.is_approve_im_supervisor==1&&e.jsx("div",{className:"flex w-full gap-4 rounded bg-white shadow",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded shadow",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsx("tr",{children:e.jsx("td",{className:"bg-gray-200 bg-lime-500 p-2 text-center text-lg font-bold text-white",colSpan:3,children:"Finance Verification"})})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"w-1/3 px-4 py-2 align-top",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold tracking-wider text-gray-700 uppercase",children:"Budgeted or Unbudgeted"}),e.jsxs(U,{value:p,onValueChange:s=>{X(s),s==="0"&&B("0")},disabled:!((ee=a.approvers_list)!=null&&ee.some(s=>String(s.approver_id)===String(l.user.id))),children:[e.jsx(V,{children:e.jsx(T,{placeholder:"Select Budget Status"})}),e.jsxs(z,{className:"z-99999",children:[e.jsx(m,{value:"1",children:"Budget"}),e.jsx(m,{value:"0",children:"Unbudgeted"})]})]})]}),e.jsxs("td",{className:"w-1/3 px-4 py-2 align-top",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold tracking-wider text-gray-700 uppercase",children:"Budgeted Amount"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(U,{value:I,onValueChange:be,children:[e.jsx(V,{className:"w-24",children:e.jsx(T,{placeholder:"Currency"})}),e.jsxs(z,{children:[e.jsx(m,{value:"PHP",children:"PHP"}),e.jsx(m,{value:"USD",children:"USD"}),e.jsx(m,{value:"EUR",children:"EUR"}),e.jsx(m,{value:"JPY",children:"JPY"})]})]}),e.jsx(i,{id:"budget_amount",type:"currency",name:"budget_amount",className:"rounded-sm shadow-none",value:p==="0"?"0":Ve(C),placeholder:"Amount",onChange:s=>B(s.target.value),disabled:p==="0"||!((se=a.approvers_list)!=null&&se.some(s=>String(s.approver_id)===String(l.user.id)))})]})]}),e.jsxs("td",{className:"w-1/3 px-4 py-2 align-top",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold tracking-wider text-gray-700 uppercase",children:"OPEX or CAPEX"}),e.jsxs(U,{value:$,onValueChange:s=>J(s),disabled:!((ae=a.approvers_list)!=null&&ae.some(s=>String(s.approver_id)===String(l.user.id))),children:[e.jsx(V,{children:e.jsx(T,{placeholder:"Select Budget Type"})}),e.jsxs(z,{className:"z-99999",children:[e.jsx(m,{value:"opex",children:"OPEX"}),e.jsx(m,{value:"capex",children:"CAPEX"})]})]})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"p-4",children:[e.jsx("span",{className:"text-sm text-gray-800",children:"Verified By : "}),e.jsx("span",{className:"text-sm font-bold text-gray-800",children:((te=(re=a.approvers_list)==null?void 0:re.find(s=>Number(s.approver_level)===3))==null?void 0:te.approval_date)||""}),e.jsx("br",{}),e.jsx("span",{className:"mt-2 block font-semibold text-gray-700",children:(()=>{var r,n;const s=(n=(r=a.approvers_list)==null?void 0:r.find(o=>Number(o.approver_level)===3))==null?void 0:n.approver;return s?`${s.fname||""} ${s.mname||""} ${s.lname||""}`.trim():""})()})]}),e.jsxs("td",{colSpan:2,className:"w-1/3 px-4 py-2 align-top",children:[e.jsx("span",{className:"mb-1 block text-xs font-semibold tracking-wider text-gray-700 uppercase",children:"Remarks"})," ",e.jsx(L,{id:"remarks",name:"remarks",className:"rounded-sm shadow-none",value:S,placeholder:"Remarks",onChange:s=>{O(s.target.value)},disabled:!((le=a.approvers_list)!=null&&le.some(s=>String(s.approver_id)===String(l.user.id)))})]})]}),((de=a.approvers_list)==null?void 0:de.some(s=>String(s==null?void 0:s.approver_id)===String(l.user.id)))&&a.is_finance_verified!=="1"&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"p-4 text-center",children:e.jsx("div",{className:"flex flex-col items-center gap-2 md:flex-row md:justify-center",children:e.jsxs(f,{children:[e.jsx(b,{asChild:!0,children:e.jsx(d,{type:"submit",disabled:!p||!$||p!=="0"&&!C,children:"Verify"})}),e.jsxs(v,{className:"z-99999",children:[e.jsx(y,{children:"Purchase Request"}),e.jsx(N,{children:"Are you sure you want to verify this purchase request ?"}),e.jsxs(_,{className:"gap-2",children:[e.jsx(c,{asChild:!0,children:e.jsx(d,{variant:"secondary",children:"Cancel"})}),e.jsx(c,{asChild:!0,children:e.jsx(d,{asChild:!0,children:e.jsx("button",{type:"submit",onClick:()=>Oe(),children:"Confirm"})})})]})]})]})})})})]})]})}),a.is_finance_verified=="1"&&a.budgeted=="0"&&e.jsx("div",{className:"flex w-full gap-4 rounded bg-white p-4 shadow",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded shadow",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsx("tr",{children:e.jsx("td",{className:"bg-gray-200 p-4 text-center text-lg font-bold",colSpan:2,children:"Unbugeted Approver"})})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:e.jsx("tr",{className:"hover:bg-gray-50",children:(ie=a.approvers_list)==null?void 0:ie.filter(s=>Number(s.approver_level)===5).map(s=>{var r,n,o;return e.jsxs("td",{className:"w-1/2 px-4 py-2 align-top",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Name:"}),e.jsxs("span",{children:[((r=s.approver)==null?void 0:r.fname)||""," ",((n=s.approver)==null?void 0:n.mname)||""," ",((o=s.approver)==null?void 0:o.lname)||""]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),e.jsx("span",{children:s.is_approve==1?"Approved":"Pending"})]})]},s.id),s.approver_id==l.user.id&&s.is_approve==0&&e.jsx("div",{className:"flex flex-col gap-2 md:flex-row md:items-center",children:e.jsxs(f,{children:[e.jsx(b,{asChild:!0,children:e.jsx(d,{type:"submit",disabled:!A||!P||!q,children:"Approve"})}),e.jsxs(v,{className:"z-99999",children:[e.jsx(y,{children:"Purchase Request"}),e.jsx(N,{children:"Are you sure you want to approve this purchase request ?"}),e.jsxs(_,{className:"gap-2",children:[e.jsx(c,{asChild:!0,children:e.jsx(d,{variant:"secondary",children:"Cancel"})}),e.jsx(c,{asChild:!0,children:e.jsx(d,{asChild:!0,children:e.jsx("button",{type:"submit",onClick:()=>De(),children:"Confirm"})})})]})]})]})})]})})})})]})}),((ne=a.approvers_list)==null?void 0:ne.some(s=>Number(s.approver_level)===4))&&e.jsx("div",{className:"flex w-full gap-4 rounded bg-white shadow",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded shadow",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsx("tr",{children:e.jsx("td",{className:"bg-sky-500 p-4 text-center text-lg font-bold text-white",colSpan:2,children:"Procurement Verification"})})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"w-1/2 px-4 py-2 align-top",children:[e.jsxs("span",{className:"text-left text-xs font-semibold tracking-wider text-gray-700 uppercase",children:[" ","Suppplier Name"]}),e.jsx(i,{id:"supplier_name",type:"text",name:"supplier_name",className:"rounded-sm shadow-none",value:F,placeholder:"Budgeted Amount",onChange:s=>ve(s.target.value),disabled:!((ce=a.approvers_list)!=null&&ce.some(s=>Number(s.approver_level)===4&&String(s==null?void 0:s.approver_id)===String(l.user.id)))})]}),e.jsxs("td",{className:"w-1/2 px-4 py-2 align-top",children:[e.jsxs("span",{className:"text-left text-xs font-semibold tracking-wider text-gray-700 uppercase",children:[" ","Actual Amount"]}),e.jsx(i,{id:"actual_amount",type:"number",name:"actual_amount",className:"rounded-sm shadow-none",value:k,placeholder:"Budgeted Amount",onChange:s=>ye(s.target.value),disabled:!((oe=a.approvers_list)!=null&&oe.some(s=>Number(s.approver_level)===4&&String(s==null?void 0:s.approver_id)===String(l.user.id)))})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"w-1/2 px-4 py-2 align-top",children:[e.jsx("span",{className:"text-left text-xs font-semibold tracking-wider text-gray-700 uppercase",children:"Over Budget By"}),e.jsx("span",{className:"rounded-sm shadow-none",children:e.jsx(i,{value:(()=>{const s=parseFloat(C||"0"),r=parseFloat(k||"0");return(s-r).toLocaleString("en-US",{style:"currency",currency:"PHP"})})(),disabled:!((ue=a.approvers_list)!=null&&ue.some(s=>Number(s.approver_level)===4&&String(s==null?void 0:s.approver_id)===String(l.user.id)))})})]}),e.jsxs("td",{className:"w-1/2 px-4 py-2 align-top",children:[e.jsx("span",{className:"text-left text-xs font-semibold tracking-wider text-gray-700 uppercase",children:"Attachment"}),e.jsx(i,{id:"attachment",type:"file",name:"budget_amount",className:"rounded-sm shadow-none",placeholder:"Budgeted Amount"})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"p-4",children:[e.jsxs("span",{children:["Verified By :"," ",((pe=(me=a.approvers_list)==null?void 0:me.find(s=>Number(s.approver_level)===4))==null?void 0:pe.approve_date)||""]}),e.jsx("br",{}),e.jsx("span",{className:"mt-2 block font-semibold text-gray-700",children:(()=>{var r,n;const s=(n=(r=a.approvers_list)==null?void 0:r.find(o=>Number(o.approver_level)===4))==null?void 0:n.approver;return s?`${s.fname||""} ${s.mname||""} ${s.lname||""}`.trim():""})()})]}),e.jsxs("td",{children:[" ",e.jsx(L,{id:"remarks",name:"remarks",className:"rounded-sm shadow-none",value:S,placeholder:"Remarks",onChange:s=>{O(s.target.value)},disabled:!((xe=a.approvers_list)!=null&&xe.some(s=>{var r;return Number(s.approver_level)===4&&String((r=s.approver)==null?void 0:r.user_id)===String(l.user.id)}))})]})]}),((he=a.approvers_list)==null?void 0:he.some(s=>Number(s.approver_level)===4&&String(s==null?void 0:s.approver_id)===String(l.user.id)))&&(a.budgeted==0&&a.is_approve1_unbudgeted==1&&a.is_approve2_unbudgeted==1||a.budgeted==1)&&e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"p-4 text-center",children:e.jsx("div",{className:"flex flex-col items-center gap-2 md:flex-row md:justify-center",children:e.jsxs(f,{children:[e.jsx(b,{asChild:!0,children:e.jsx(d,{type:"submit",disabled:!F||!k,children:"Verify"})}),e.jsxs(v,{className:"z-99999",children:[e.jsx(y,{children:"Purchase Request"}),e.jsx(N,{children:"Are you sure you want to verify this purchase request ?"}),e.jsxs(_,{className:"gap-2",children:[e.jsx(c,{asChild:!0,children:e.jsx(d,{variant:"secondary",children:"Cancel"})}),e.jsx(c,{asChild:!0,children:e.jsx(d,{asChild:!0,children:e.jsx("button",{type:"submit",onClick:()=>Be(),children:"Confirm"})})})]})]})]})})})})]})]})}),a.is_procurement_verified=="1"&&e.jsx("div",{className:"flex w-full gap-4 rounded bg-white shadow",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded shadow",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsx("tr",{children:e.jsx("td",{className:"bg-gray-200 p-4 text-center text-lg font-bold",colSpan:2,children:"Over budget Approver"})})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:e.jsx("tr",{className:"hover:bg-gray-50",children:(je=a.approvers_list)==null?void 0:je.filter(s=>Number(s.approver_level)===6).map(s=>{var r,n,o;return e.jsxs("td",{className:"w-1/2 px-4 py-2 align-top",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Name:"}),e.jsxs("span",{children:[((r=s.approver)==null?void 0:r.fname)||""," ",((n=s.approver)==null?void 0:n.mname)||""," ",((o=s.approver)==null?void 0:o.lname)||""]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),e.jsx("span",{children:s.is_approve==1?"Approved":"Pending"})]})]},s.id),s.approver_id==l.user.id&&s.is_approve==0&&e.jsx("div",{className:"flex flex-col gap-2 md:flex-row md:items-center",children:e.jsxs(f,{children:[e.jsx(b,{asChild:!0,children:e.jsx(d,{type:"submit",disabled:!A||!P||!q,children:"Approve"})}),e.jsxs(v,{className:"z-99999",children:[e.jsx(y,{children:"Purchase Request"}),e.jsx(N,{children:"Are you sure you want to approve this purchase request ?"}),e.jsxs(_,{className:"gap-2",children:[e.jsx(c,{asChild:!0,children:e.jsx(d,{variant:"secondary",children:"Cancel"})}),e.jsx(c,{asChild:!0,children:e.jsx(d,{asChild:!0,children:e.jsx("button",{type:"submit",onClick:()=>$e(),children:"Confirm"})})})]})]})]})})]})})})})]})})]})]})})}export{ls as default};
