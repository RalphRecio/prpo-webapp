import{K as m,r as a,j as t,L as f,$ as x}from"./app-CssLvUIy.js";import{u as h,P as g,S as i}from"./use-pagination-service-C0K9TTMU.js";import{A as b}from"./app-layout-Bo3Mcdu3.js";import{d as n}from"./index-Co1wP1WO.js";import{L as S}from"./loader-BSsBfFzm.js";import{P as _}from"./plus-DvW-7UEB.js";import"./button-C4WyL6s5.js";import"./label-BtSorOQx.js";import"./index-DYw4DpLt.js";import"./modal-g8fYplh1.js";import"./select-BaSQ6YBR.js";import"./index-CJpG0XJO.js";import"./index-CRHGE8uX.js";import"./createLucideIcon-B__Mbpjy.js";const j=[{title:"Transaction",href:"/transactions"}];function Q(){const{purchaseRequisition:r}=m().props,[N,P]=a.useState(""),[C,w]=a.useState(""),[I,v]=a.useState("asc"),[k,y]=a.useState(!1),[q,L]=a.useState(null),[D,R]=a.useState(""),[d,T]=a.useState(!1),{loading:l,fetchData:c,handlePageChange:u}=h("");function p(e){e.preventDefault(),n.Inertia.visit("/prpo/create_pr")}return t.jsxs(b,{breadcrumbs:j,children:[t.jsx(f,{title:"Transaction"}),t.jsx("div",{className:"flex h-full flex-1 flex-col rounded-xl",children:t.jsx("div",{className:"overflow-x-auto bg-white",children:t.jsx(g,{columnNames:["id","Status","Requestor","Date Issue","Date Needed","BU","Department","Product End User","Classification","Remarks"],items:r.data.map(e=>({id:e.id,status:e.status,requestor_id:e.requestor_id,date_issue:e.date_issue,date_needed:e.date_needed,bu_id:e.bu.name||"",department_id:e.department.name,prod_end_user:e.prod_end_user,classification_id:e.classification.name,remarks:e.remarks})),checkBox:!1,data:r,loading:l,hiddenColumns:[0],handlePageChange:u,renderCell:(e,s)=>e===1?t.jsx("strong",{className:`rounded-xl border border-1 px-2 py-1 ${s==0?"bg-gray-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s}):s,headerActions:[t.jsxs(x,{href:"/prpo/create_pr",className:"inline-flex items-center rounded-md bg-blue-500 px-2 text-center text-white hover:bg-blue-600",onClick:p,children:[d?t.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(_,{className:"mr-2 h-4 w-4"})," New PR"]})],fetchData:c,actions:[{type:"button",label:"View",variant:"default",icon:t.jsx(i,{className:"h-4 w-4"}),onClick:e=>{const s=r.data.find(o=>o.id===e.id);s?n.Inertia.visit(`/prpo/purchase-request/details/${s.id}`):console.error("Item not found")}},{type:"button",label:"Create PO",variant:"default",icon:t.jsx(i,{className:"h-4 w-4"}),onClick:e=>{const s=r.data.find(o=>o.id===e.id);s?n.Inertia.visit(`/prpo/purchase-order/${s.id}`):console.error("Item not found")}}]})})})]})}export{Q as default};
